[TOC]
# Java基础

## Java 的两大数据类型

1. 内置数据类型

    八种基本类型(六种数据类型，一种字符型，一种布尔型)

   byte, short, int, long, float, double, boolean, char

2. 引用数据类型

   引用类型指向一个对象，指向对象的变量是引用变量。这些变量在声明时被指定为一个特定的类型，比如 Employee、Puppy 等。变量一旦声明后，类型就不能被改变了。

## 类型转换

1. 自动类型转换从低级到高级。

   整型、实型（常量）、字符型数据可以混合运算。运算中，不同类型的数据先转化为同一类型，然后进行运算。

```
低  ------------------------------------>  高

byte,short,char—> int —> long—> float —> double 
```

2. 强制类型转换

   转换的数据类型必须是兼容的。

3. 隐含强制类型转换

   整数的默认类型是int。

## 变量类型

1. 局部变量

   - 局部变量声明在方法、构造方法或者语句块中；
   - 局部变量在方法、构造方法、或者语句块被执行的时候创建，当它们执行完成后，变量将会被销毁；

   - 访问修饰符不能用于局部变量；

   - 局部变量只在声明它的方法、构造方法或者语句块中可见；

   - 局部变量是在栈上分配的。

   - 局部变量没有默认值，所以局部变量被声明后，必须经过初始化，才可以使用。

2. 实例变量

   - 实例变量声明在一个类中，但在方法、构造方法和语句块之外；
   - 当一个对象被实例化之后，每个实例变量的值就跟着确定；
   - 实例变量在对象创建的时候创建，在对象被销毁的时候销毁；
   - 实例变量的值应该至少被一个方法、构造方法或者语句块引用，使得外部能够通过这些方式获取实例变量信息；
   - 实例变量可以声明在使用前或者使用后；
   - 访问修饰符可以修饰实例变量；
   - 实例变量对于类中的方法、构造方法或者语句块是可见的。一般情况下应该把实例变量设为私有。通过使用访问修饰符可以使实例变量对子类可见；
   - 实例变量具有默认值。数值型变量的默认值是0，布尔型变量的默认值是false，引用类型变量的默认值是null。变量的值可以在声明时指定，也可以在构造方法中指定；
   - 实例变量可以直接通过变量名访问。但在静态方法以及其他类中，就应该使用完全限定名：ObejectReference.VariableName。

3. 类变量(静态变量)

   - 类变量也称为静态变量，在类中以 static 关键字声明，但必须在方法之外。

   - 无论一个类创建了多少个对象，类只拥有类变量的一份拷贝。

   - 静态变量除了被声明为常量外很少使用。常量是指声明为public/private，final和static类型的变量。常量初始化后不可改变。

   - 静态变量储存在静态存储区。经常被声明为常量，很少单独使用static声明变量。

   - 静态变量在第一次被访问时创建，在程序结束时销毁。

   - 与实例变量具有相似的可见性。但为了对类的使用者可见，大多数静态变量声明为public类型。

   - 默认值和实例变量相似。数值型变量默认值是0，布尔型默认值是false，引用类型默认值是null。变量的值可以在声明的时候指定，也可以在构造方法中指定。此外，静态变量还可以在静态语句块中初始化。

   - 静态变量可以通过：*ClassName.VariableName*的方式访问。

   - 类变量被声明为public static final类型时，类变量名称一般建议使用大写字母。如果静态变量不是public和final类型，其命名方式与实例变量以及局部变量的命名方式一致。

## 修饰符

### 访问控制修饰符

- **default** (即默认，什么也不写）: 在同一包内可见，不使用任何修饰符。使用对象：类、接口、变量、方法。不同包子类不可见

- **private** : 在同一类内可见。使用对象：变量、方法。并且类和接口不能声明为 **private**。 **注意：不能修饰类（外部类）**

- **public** : 对所有类可见。使用对象：类、接口、变量、方法。接口里的变量都隐式声明为 **public static final**,而接口里的方法默认情况下访问权限为 **public**。

- **protected** : 对同一包内的类和所有子类可见。使用对象：变量、方法。 **注意：不能修饰类（外部类）**。非子包中只可通过继承重写方法，无法调用父类实例方法。

  |  修饰符   | 当前类 | 同一包 | 子孙类（同一包） | 子孙类（不同包） | 其他包 |
  | :-------: | :----: | :----: | :--------------: | :--------------: | :----: |
  |  public   |   Y    |   Y    |        Y         |        Y         |   Y    |
  | protected |   Y    |   Y    |        Y         |       Y/N        |   N    |
  |  default  |   Y    |   Y    |        Y         |        N         |   N    |
  |  private  |   Y    |   N    |        N         |        N         |   N    |

#### 访问控制和继承

- 父类中声明为 public 的方法在子类中也必须为 public。
- 父类中声明为 protected 的方法在子类中要么声明为 protected，要么声明为 public，不能声明为 private。
- 父类中声明为 private 的方法，不能够被继承。

### 非访问修饰符

1. static 修饰符，用来修饰类方法和类变量。

2. final 修饰符，用来修饰类、方法和变量，final 修饰的类不能够被继承，修饰的方法不能被继承类重新定义，修饰的变量为常量，是不可修改的。

3. abstract 修饰符，用来创建抽象类和抽象方法。一个类不能同时被 abstract 和 final 修饰。

4. synchronized 和 volatile 修饰符，主要用于线程的编程。synchronized 关键字声明的方法同一时间只能被一个线程访问。volatile 修饰的成员变量在每次被线程访问时，都强制从共享内存中重新读取该成员变量的值。而且，当成员变量发生变化时，会强制线程将变化值回写到共享内存。这样在任何时刻，两个不同的线程总是看到某个成员变量的同一个值。

5. transient 修饰符，序列化的对象包含被 transient 修饰的实例变量时，java 虚拟机(JVM)跳过该特定的变量。

   该修饰符包含在定义变量的语句中，用来预处理类和变量的数据类型。

## Java运算符

#### 运算符分类

1. 算数运算符
2. 关系运算符
3. 位运算符
4. 逻辑运算符
5. 赋值运算符
6. 条件运算符 （三元运算符）
7. instanceof运算符 ( Object reference variable ) instanceof  (class/interface type)

#### 运算符优先级

Java 语言中运算符的优先级共分为 14 级，其中 1 级最高，14 级最低。在同一个表达式中运算符优先级高的先执行。表 1 列出了所有的运算符的优先级以及结合性。

| 优先级 | 运算符                                           |  结合性  |
| :----: | ------------------------------------------------ | :------: |
|   1    | ()、[]、{}                                       | 从左向右 |
|   2    | !、+、-、~、++、--                               | 从右向左 |
|   3    | *、/、%                                          | 从左向右 |
|   4    | +、-                                             | 从左向右 |
|   5    | «、»、>>>                                        | 从左向右 |
|   6    | <、<=、>、>=、instanceof                         | 从左向右 |
|   7    | ==、!=                                           | 从左向右 |
|   8    | &                                                | 从左向右 |
|   9    | ^                                                | 从左向右 |
|   10   | \|                                               | 从左向右 |
|   11   | &&                                               | 从左向右 |
|   12   | \|\|                                             | 从左向右 |
|   13   | ?:                                               | 从右向左 |
|   14   | =、+=、-=、*=、/=、&=、\|=、^=、~=、«=、»=、>>>= | 从右向左 |

## Java switch case 语句

1. switch case 执行时，一定会先进行匹配，匹配成功返回当前 case 的值，再根据是否有 break，判断是否继续输出，或是跳出判断。

2. 如果 case 语句块中没有 break 语句时，JVM 并不会顺序输出每一个 case 对应的返回值，而是继续匹配，匹配不成功则返回默认 case。

3. 如果 case 语句块中没有 break 语句时，匹配成功后，从当前 case 开始，后续所有 case 的值都会输出。

4. 如果当前匹配成功的 case 语句块没有 break 语句，则从当前 case 开始，后续所有 case 的值都会输出，如果后续的 case 语句块有 break 语句则会跳出判断。

   ```java
   public class Test {
      public static void main(String args[]){
         int i = 1;
         switch(i){
            case 0:
               System.out.println("0");
            case 1:
               System.out.println("1");
            case 2:
               System.out.println("2");
            case 3:
               System.out.println("3"); break;
            default:
               System.out.println("default");
         }
      }
   }
   ```

   ```java
   1
   2
   3
   ```

